---
import BaseLayout from '@/layouts/BaseLayout.astro';
import Pill from '@/components/Pill.astro';
import PageFooter from '@/components/PageFooter.astro';
import PostPreview from '@/components/PostPreview.astro';
import TalkPreview from '@/components/TalkPreview.astro';
import ProjectPreview from '@/components/ProjectPreview.astro';
import TechStack from '@/components/TechStack.astro';
import { getCollection } from 'astro:content';

// Test content collections import
const blogPosts = await getCollection('blog');
const talks = await getCollection('talks');
const projects = await getCollection('projects');
---

<BaseLayout title="Home" description="Portfolio and blog of Theo Harris, a full stack developer from Sydney, NSW">
	<div class="flex items-center justify-center min-h-screen">
		<div class="text-center space-y-6 p-8">
			<h1 class="text-6xl font-bold text-pink font-kanit">Tailwind CSS v4 Test</h1>
			<p class="text-2xl text-blue font-kanit">Custom color palette is working!</p>

			<div class="flex gap-4 justify-center mt-8">
				<div class="w-20 h-20 bg-pink border-4 border-black rounded-md"></div>
				<div class="w-20 h-20 bg-lime border-4 border-black rounded-md"></div>
				<div class="w-20 h-20 bg-blue border-4 border-black rounded-md"></div>
				<div class="w-20 h-20 bg-orange border-4 border-black rounded-md"></div>
				<div class="w-20 h-20 bg-purple border-4 border-black rounded-md"></div>
			</div>

			<p class="text-outline-mobile text-4xl font-bold text-orange mt-8 font-kanit">Text Outline Test</p>

			<div class="mt-12 space-y-4">
				<h2 class="text-5xl font-bold text-purple font-climate-crisis uppercase">Climate Crisis Font</h2>
				<p class="text-xl font-kanit font-normal text-black">Kanit Font - Regular (400)</p>
				<p class="text-xl font-kanit font-medium text-black">Kanit Font - Medium (500)</p>
				<p class="text-xl font-kanit font-semibold text-black">Kanit Font - Semibold (600)</p>
				<p class="text-xl font-kanit font-bold text-black">Kanit Font - Bold (700)</p>
			</div>

			<div class="mt-12 p-6 bg-white border-4 border-black rounded-md">
				<h2 class="text-3xl font-bold text-lime mb-4 font-kanit">Content Collections Test</h2>
				<div class="space-y-2 text-left">
					<p class="text-lg font-kanit">üìù Blog Posts: <span class="font-bold">{blogPosts.length}</span></p>
					<p class="text-lg font-kanit">üé§ Talks: <span class="font-bold">{talks.length}</span></p>
					<p class="text-lg font-kanit">üíº Projects: <span class="font-bold">{projects.length}</span></p>
					<p class="text-sm text-gray-600 mt-4 font-kanit italic">Content collections are configured and ready!</p>
				</div>
			</div>

			<div class="mt-12">
				<h2 class="text-3xl font-bold text-orange mb-4 font-kanit">Pill Component Test</h2>
				<ul class="flex flex-wrap gap-2 justify-center">
					<Pill text="TypeScript" />
					<Pill text="React" />
					<Pill text="Astro" />
					<Pill text="Tailwind CSS" />
					<Pill text="Elixir" />
				</ul>
			</div>
		</div>
	</div>

	<!-- Preview Components Test Section -->
	<div class="container mx-auto px-4 py-12">
		<h2 class="text-5xl font-bold text-pink font-climate-crisis uppercase mb-8">Preview Components Test</h2>

		<!-- Post Preview -->
		<section class="mb-12">
			<h3 class="text-3xl font-bold font-kanit mb-4">Blog Post Preview</h3>
			<div class="grid gap-6 md:grid-cols-2 lg:grid-cols-3">
				{blogPosts.slice(0, 3).map((post, index) => (
					<PostPreview post={post} index={index} />
				))}
			</div>
		</section>

		<!-- Talk Preview -->
		<section class="mb-12">
			<h3 class="text-3xl font-bold font-kanit mb-4">Talk Preview</h3>
			<div class="divide-y divide-gray-200">
				{talks.slice(0, 2).map((talk) => (
					<TalkPreview talk={talk} />
				))}
			</div>
		</section>

		<!-- Project Preview -->
		<section class="mb-12">
			<h3 class="text-3xl font-bold font-kanit mb-4">Project Preview</h3>
			{projects.map((project) => (
				<ProjectPreview project={project} />
			))}
		</section>

		<!-- TechStack Carousel -->
		<section class="mb-12">
			<h3 class="text-3xl font-bold font-kanit mb-4">Tech Stack Carousel</h3>
			<TechStack />
		</section>
	</div>

	<PageFooter />
</BaseLayout>
